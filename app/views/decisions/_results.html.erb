<span
  data-controller="decision-results"
  data-decision-results-url-value="<%= @decision.path %>/results.html"
  >
  <h2>Results</h2>
  <p>
    <a data-action="click->decision-results#toggleResults" href="#"><% if @show_results %>Hide<% else %>Show<% end %> results</a>
  </p>

  <span id="results" style="display:<% if @show_results %>inline<% else %>none<% end %>;">
    <span data-decision-results-target="message">Results as of <span data-decision-results-target="age"></span>. <a data-action="click->decision-results#refreshResults" href="#">Refresh results</a>
    </span>
    <table style="border-top:none;">
      <thead style="border-top:none;">
        <tr style="border-top:none;">
          <th style="border:none;min-width:30%;"></th>
          <th title="approvals">✅</th>
          <th title="stars">⭐</th>
          <th title="random">🎲</th>
        </tr>
      </thead>
      <tbody>
        <% @decision.results.each do |result| %>
          <tr>
            <td><%= result.option_title %></td>
            <td><%= (result.approved_yes || 0) > 0 ? result.approved_yes : '' %></td>
            <td><%= (result.stars || 0) > 0 ? result.stars : '' %></td>
            <td style="opacity:0.4;font-size:0.8em;" title="<%= result.random_id %>"><%= "#{result.random_id}".slice(0, 3) + "..." %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </span>
</span>