<div data-controller="decision">
  <h1><%= Decision.first.question %></h1>
  <ul data-decision-target="list">
    <% Decision.first.options.each do |option| %>
      <% approval = option.approvals.where(created_by: current_user).first || Approval.new(value: 0) %>
      <div class="option-item" data-id="<%= option.id %>">
        <input type="checkbox" <%= approval.value == 1 ? 'checked' : '' %> data-action="decision#toggleApproved">
        <span><%= option.title %></span>
      </div>
    <% end %>
  </ul>
  <form data-action="submit->decision#add">
    <input type="text" data-decision-target="input" placeholder="Add an option">
    <button type="submit">Add</button>
  </form>
</div>
